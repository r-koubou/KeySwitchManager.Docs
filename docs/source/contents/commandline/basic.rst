基本操作
=======================================

共通
--------------------------------------
.. code-block:: bash

    ksm <command> [<options>|--help]


macOS, Linux ユーザー
--------------------------------------

ksm.sh に実行権限がない場合は chmod コマンドで設定する必要がある

**例**

.. code-block:: bash

    chmod 755 ksm.sh


new コマンド
--------------------------------------

キースイッチ定義ファイル新規作成(:doc:`Yaml </contents/definition/yaml>`)

.. code-block:: bash

    ksm new <output-path>

+-------------+------------------+----------+--------------------+
|  Parameter  | Description      | Required |       Default      |
+-------------+------------------+----------+--------------------+
| output-path | 出力ファイルパス |    no    | (ProductName).yaml |
+-------------+------------------+----------+--------------------+

.. note::

    ファイル名の拡張子に応じて出力する。

    :yaml: Yaml
    :xlsx: スプレッドシート(xlsx)


find コマンド
--------------------------------------


指定されたパラメータからデータベース内のキースイッチ情報データを検索する（部分一致）
検索結果の出力フォーマットは :doc:`Yaml </contents/definition/yaml>`

.. code-block:: bash

    ksm find -f <path> -i <path> [ -d <name> | -p <name> | -i <name>]


+----------------+---------------+----------------------------------------------------+----------+------+
| Option (short) | Option (long) |                     Description                    | Required | Note |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -d       |  --developer  |              検索対象のデベロッパー名              |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -p       |   --product   |                  検索対象の製品名                  |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -i       |  --instrument |              検索対象の音色・パッチ名              |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -f       |   --database  |          検索するデータベースファイルパス          |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -o       |    --output   | 検索結果(キースイッチ情報を記述したYamlファイル名) |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+

**例**

.. code-block:: bash

    ksm find -d "Devloper Name" -p "My Guitar" -i "Guitar1" -f KeySwitches.db -o result.yaml


**アスタリスク（\*）の使用**

検索条件を指定しなかった場合や、アスタリスクを指定した場合、全てを検索対象とする。


**例**

全てのデベロッパーの、"Guitar"という製品名が含まれるキースイッチを検索する

.. code-block:: bash

    ksm import-xlsx -d "*" -p "Guitar" -f KeySwitches.db -o result.yaml


delete コマンド
--------------------------------------


指定されたパラメータからデータベース内のキースイッチ情報データを削除する

.. code-block:: bash

    ksm search -f <path> -i <path> [-d <name> | -p <name> | -i <name>]


+----------------+---------------+----------------------------------------------------+----------+
| Option (short) | Option (long) |                     Description                    | Required |
+----------------+---------------+----------------------------------------------------+----------+
|       -d       |  --developer  |              検索対象のデベロッパー名              |    yes   |
+----------------+---------------+----------------------------------------------------+----------+
|       -p       |   --product   |                  検索対象の製品名                  |    yes   |
+----------------+---------------+----------------------------------------------------+----------+
|       -i       |  --instrument |              検索対象の音色・パッチ名              |    yes   |
+----------------+---------------+----------------------------------------------------+----------+
|       -f       |   --database  |          検索するデータベースファイルパス          |    yes   |
+----------------+---------------+----------------------------------------------------+----------+

**例**

.. code-block:: bash

    ksm delete -d "Devloper Name" -p "My Guitar" -i "Guitar1" -f KeySwitches.db

