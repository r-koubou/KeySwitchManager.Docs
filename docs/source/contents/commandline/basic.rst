データベース操作
=======================================

new
--------------------------------------

キースイッチ定義ファイル新規作成(:doc:`Yaml </contents/definition/yaml>`)

.. code-block:: bash

    ksm new <output-path>

+-------------+------------------+----------+--------------------+
|  Parameter  | Description      | Required |       Default      |
+-------------+------------------+----------+--------------------+
| output-path | 出力ファイルパス |    no    | (ProductName).yaml |
+-------------+------------------+----------+--------------------+


new-xlsx
--------------------------------------


キースイッチ定義ファイル新規作成(Spreadsheet)

.. code-block:: bash

    ksm new-xlsx <output-path>

+-------------+------------------+----------+--------------------+
|  Parameter  | Description      | Required |       Default      |
+-------------+------------------+----------+--------------------+
| output-path | 出力ファイルパス |    no    | (ProductName).xlsx |
+-------------+------------------+----------+--------------------+


search
--------------------------------------


指定されたパラメータからデータベース内のキースイッチ情報データを検索する（部分一致）
検索結果の出力フォーマットは :doc:`Yaml </contents/definition/yaml>`

.. code-block:: bash

    ksm search -f <path> -i <path> -d <name> [-p <name> | -i <name>]


+----------------+---------------+----------------------------------------------------+----------+------+
| Option (short) | Option (long) |                     Description                    | Required | Note |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -d       |  --developer  |              検索対象のデベロッパー名              |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -p       |   --product   |                  検索対象の製品名                  |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -i       |  --instrument |              検索対象の音色・パッチ名              |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -f       |   --database  |          検索するデータベースファイルパス          |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -o       |    --output   | 検索結果(キースイッチ情報を記述したYamlファイル名) |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+

例
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: bash

    ksm search -d "Devloper Name" -p "My Guitar" -i "Guitar1" -f KeySwitches.db -o result.yaml


アスタリスク（\*）の使用
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

アスタリスクを指定した場合、全てを検索対象とする。


.. code-block:: bash

    # 全てのデベロッパーの、"Guitar"という製品名が含まれるキースイッチを検索する
    ksm import-xlsx -d "*" -p "Guitar" -f KeySwitches.db -o result.yaml


delete
--------------------------------------


指定されたパラメータからデータベース内のキースイッチ情報データを削除する

.. code-block:: bash

    ksm search -f <path> -i <path> -d <name> [-p <name> | -i <name>]


+----------------+---------------+----------------------------------------------------+----------+------+
| Option (short) | Option (long) |                     Description                    | Required | Note |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -d       |  --developer  |              検索対象のデベロッパー名              |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -p       |   --product   |                  検索対象の製品名                  |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -i       |  --instrument |              検索対象の音色・パッチ名              |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -f       |   --database  |          検索するデータベースファイルパス          |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+

delete 例
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. code-block:: bash

    ksm delete -d "Devloper Name" -p "My Guitar" -i "Guitar1" -f KeySwitches.db

