Commandline
########################################

.. index:: Commandline

共通
=======================================

::

    ksm <command> [<options>|--help]


new
=======================================

定義ファイル新規作成(Yaml)

::

    ksm new [output-path]

+-------------+------------------+----------+--------------------+
|    Option   | Description      | Required |       Default      |
+-------------+------------------+----------+--------------------+
| output-path | 出力ファイルパス |    no    | (ProductName).yaml |
+-------------+------------------+----------+--------------------+


new-xlsx
=======================================


定義ファイル新規作成(Spreadsheet)

::

    ksm new-xlsx [output-path]

+-------------+------------------+----------+--------------------+
|    Option   | Description      | Required |       Default      |
+-------------+------------------+----------+--------------------+
| output-path | 出力ファイルパス |    no    | (ProductName).xlsx |
+-------------+------------------+----------+--------------------+


import
=======================================


定義ファイル(Yaml)からDBにキースイッチ情報を格納する

.. code-block:: bash

    ksm import -f <path> -i <path>

+----------------+---------------+------------------------------------------+----------+----------------------------------------+
| Option (short) | Option (long) |                Description               | Required |                  Note                  |
+----------------+---------------+------------------------------------------+----------+----------------------------------------+
|       -f       |   --database  |     保存するデータベースファイルパス     |    yes   | ファイルが存在しない場合は新規作成する |
+----------------+---------------+------------------------------------------+----------+----------------------------------------+
|       -i       |    --input    | キースイッチ情報を記述したYamlファイル名 |    yes   |                                        |
+----------------+---------------+------------------------------------------+----------+----------------------------------------+


例
----------------------------------------

.. code-block:: bash

    ksm import -f KeySwitches.db -i example.yaml


import-xlsx
=======================================


定義ファイル(Spreadsheet)からDBにキースイッチ情報を格納する

.. code-block:: bash

    ksm import-xlsx -f <path> -i <path>

+----------------+---------------+------------------------------------------+----------+----------------------------------------+
| Option (short) | Option (long) |                Description               | Required |                  Note                  |
+----------------+---------------+------------------------------------------+----------+----------------------------------------+
|       -f       |   --database  |     保存するデータベースファイルパス     |    yes   | ファイルが存在しない場合は新規作成する |
+----------------+---------------+------------------------------------------+----------+----------------------------------------+
|       -i       |    --input    | キースイッチ情報を記述したYamlファイル名 |    yes   |                                        |
+----------------+---------------+------------------------------------------+----------+----------------------------------------+


search 例
----------------------------------------

.. code-block:: bash

    ksm import-xlsx -f KeySwitches.db -i example.yaml


search
=======================================


指定されたパラメータからデータベース内のキースイッチ情報データを検索する（部分一致）
検索結果の出力フォーマットはYaml

.. code-block:: bash

    ksm search -f <path> -i <path>


+----------------+---------------+----------------------------------------------------+----------+------+
| Option (short) | Option (long) |                     Description                    | Required | Note |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -d       |  --developer  |              検索対象のデベロッパー名              |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -p       |   --product   |                  検索対象の製品名                  |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -i       |  --instrument |              検索対象の音色・パッチ名              |          |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -f       |   --database  |          検索するデータベースファイルパス          |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+
|       -o       |    --output   | 検索結果(キースイッチ情報を記述したYamlファイル名) |    yes   |      |
+----------------+---------------+----------------------------------------------------+----------+------+

import-xlsx 例
----------------------------------------

.. code-block:: bash

    ksm import-xlsx -d "Devloper Name" -p "My Guitar" -i "Guitar1" -f KeySwitches.db -o result.yaml


アスタリスク（\*）の使用
--------------------------------------

アスタリスクを指定した場合、全てを検索対象とする。


.. code-block:: bash

    # 全てのデベロッパーの、"Guitar"という製品名が含まれるキースイッチを検索する
    ksm import-xlsx -d "*" -p "Guitar" -f KeySwitches.db -o result.yaml
